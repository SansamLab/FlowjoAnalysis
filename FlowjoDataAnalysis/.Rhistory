library(devtools)
document()
document()
document()
build()
install.packages("~/Dropbox (OMRF)/FlowjoAnalysis/FlowjoDataAnalysis_0.1.0.tar.gz", repos = NULL, type = "source")
remove.packages("CytoML", lib="~/Library/R/x86_64/4.1/library")
if (!requireNamespace("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install("CytoML")
install.packages("~/Dropbox (OMRF)/FlowjoAnalysis/FlowjoDataAnalysis_0.1.0.tar.gz", repos = NULL, type = "source")
library(cytolib)
document()
build()
install.packages("~/Dropbox (OMRF)/FlowjoAnalysis/FlowjoDataAnalysis_0.1.0.tar.gz", repos = NULL, type = "source")
remotes::install_github("RGLab/cytolib", force = TRUE)
remotes::install_github("RGLab/flowCore", force = TRUE)
remotes::install_github("RGLab/flowWorkspace", force = TRUE)
remotes::install_github("RGLab/CytoML", force = TRUE)
CytoML::open_flowjo_xml
CytoML::flowjo_to_gatingset
library(devtools)
document()
build()
wspFilename="04-Oct-2021.wsp"
fcsPath="."
fcsPattern=".fcs"
nodes="Cells"
markers=c("FSC-A","SSC-A","FL1-A")
# load workspace
data <- CytoML::open_flowjo_xml(wspFilename)
setwd("~/Dropbox (OMRF)/Kevin + Courtney Cell Line Exps/FACS data for screens/2021_VP64-dcas Clones/2021_CDC45-VP64 dCas clones")
# load workspace
data <- CytoML::open_flowjo_xml(wspFilename)
# parse workspace and fcs files
gs <- CytoML::flowjo_to_gatingset(data, name = 1)
# put data
df3 <- flowWorkspace::gs_get_singlecell_expression_by_gate(x=gs, nodes=nodes, other.markers=markers, threshold = FALSE)
names(df3) <- gsub("\\..*","",names(df3))
# add names to last column and remove excess columns
df3 <- lapply(df3, as.data.frame)
# return list of dataframes
return(df3)
df3
lapply(df3, head)
